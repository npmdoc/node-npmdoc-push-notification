<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://github.com/idw111/push-notification#readme"

    >push-notification (v0.1.8)</a>
</h1>
<h4>push notification for apple push notification (APN) and google cloud messaging (GCM)</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.push-notification">module push-notification</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.push-notification.addTarget">
            function <span class="apidocSignatureSpan">push-notification.</span>addTarget
            <span class="apidocSignatureSpan">(type, token)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.push-notification.clear">
            function <span class="apidocSignatureSpan">push-notification.</span>clear
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.push-notification.init">
            function <span class="apidocSignatureSpan">push-notification.</span>init
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.push-notification.prepare">
            function <span class="apidocSignatureSpan">push-notification.</span>prepare
            <span class="apidocSignatureSpan">(title, message, badge, sound, payload)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.push-notification.push">
            function <span class="apidocSignatureSpan">push-notification.</span>push
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.push-notification.pushSingle">
            function <span class="apidocSignatureSpan">push-notification.</span>pushSingle
            <span class="apidocSignatureSpan">(type, token, title, message, badge, sound, payload)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.push-notification.pushToAPN">
            function <span class="apidocSignatureSpan">push-notification.</span>pushToAPN
            <span class="apidocSignatureSpan">(tokens, title, message, badge, sound, payload)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.push-notification.pushToGCM">
            function <span class="apidocSignatureSpan">push-notification.</span>pushToGCM
            <span class="apidocSignatureSpan">(tokens, title, message, badge, sound, payload)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">push-notification.</span>DeviceType</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">push-notification.</span>options</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">push-notification.</span>payload</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">push-notification.</span>tokens</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.push-notification.addTarget">module push-notification.addTarget</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.push-notification.addTarget.addTarget">
            function <span class="apidocSignatureSpan">push-notification.</span>addTarget
            <span class="apidocSignatureSpan">(type, token)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.push-notification.clear">module push-notification.clear</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.push-notification.clear.clear">
            function <span class="apidocSignatureSpan">push-notification.</span>clear
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.push-notification.init">module push-notification.init</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.push-notification.init.init">
            function <span class="apidocSignatureSpan">push-notification.</span>init
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.push-notification.prepare">module push-notification.prepare</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.push-notification.prepare.prepare">
            function <span class="apidocSignatureSpan">push-notification.</span>prepare
            <span class="apidocSignatureSpan">(title, message, badge, sound, payload)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.push-notification.push">module push-notification.push</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.push-notification.push.push">
            function <span class="apidocSignatureSpan">push-notification.</span>push
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.push-notification.pushSingle">module push-notification.pushSingle</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.push-notification.pushSingle.pushSingle">
            function <span class="apidocSignatureSpan">push-notification.</span>pushSingle
            <span class="apidocSignatureSpan">(type, token, title, message, badge, sound, payload)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.push-notification.pushToAPN">module push-notification.pushToAPN</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.push-notification.pushToAPN.pushToAPN">
            function <span class="apidocSignatureSpan">push-notification.</span>pushToAPN
            <span class="apidocSignatureSpan">(tokens, title, message, badge, sound, payload)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.push-notification.pushToGCM">module push-notification.pushToGCM</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.push-notification.pushToGCM.pushToGCM">
            function <span class="apidocSignatureSpan">push-notification.</span>pushToGCM
            <span class="apidocSignatureSpan">(tokens, title, message, badge, sound, payload)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.push-notification" id="apidoc.module.push-notification">module push-notification</a></h1>


    <h2>
        <a href="#apidoc.element.push-notification.addTarget" id="apidoc.element.push-notification.addTarget">
        function <span class="apidocSignatureSpan">push-notification.</span>addTarget
        <span class="apidocSignatureSpan">(type, token)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addTarget = function (type, token) {
    if (type === DeviceType.IOS) PushNotification.tokens.apn.push(token);
    else if (type === DeviceType.ANDROID) PushNotification.tokens.gcm.push(token);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

// send a notification to a single device
PushNotification.pushSingle(DeviceType.IOS, iosToken, message, badge, sound, payload);
PushNotification.pushSingle(DeviceType.ANDROID, androidToken, message, badge, sound, payload);

// send a notification to multiple devices
PushNotification.prepare(message, badge, sound, payload);
PushNotification.<span class="apidocCodeKeywordSpan">addTarget</span>(DeviceType.IOS, iosToken);
PushNotification.addTarget(DeviceType.ANDROID, androidToken);
PushNotification.addTarget(DeviceType.ANDROID, anotherToken);
PushNotification.push();
```


## Configuring APN and GCM
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.push-notification.clear" id="apidoc.element.push-notification.clear">
        function <span class="apidocSignatureSpan">push-notification.</span>clear
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clear = function () {
    PushNotification.tokens = {apn: [], gcm: []};
    PushNotification.payload = {title: &#x27;&#x27;, message: &#x27;&#x27;, badge: &#x27;&#x27;, sound: &#x27;&#x27;, payload: null};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

options: {apn: null, gcm: null},

init: function(options) {
    options = options || {};
    if (options.apn) options.apn.gateway = &#x27;gateway.sandbox.push.apple.com&#x27;;
    PushNotification.options = {apn: options.apn || null, gcm: options.gcm || null};
    PushNotification.<span class="apidocCodeKeywordSpan">clear</span>();
},

clear: function() {
    PushNotification.tokens = {apn: [], gcm: []};
    PushNotification.payload = {title: &#x27;&#x27;, message: &#x27;&#x27;, badge: &#x27;&#x27;, sound: &#x27;&#x27;, payload: null
};
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.push-notification.init" id="apidoc.element.push-notification.init">
        function <span class="apidocSignatureSpan">push-notification.</span>init
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">init = function (options) {
    options = options || {};
    if (options.apn) options.apn.gateway = &#x27;gateway.sandbox.push.apple.com&#x27;;
    PushNotification.options = {apn: options.apn || null, gcm: options.gcm || null};
    PushNotification.clear();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```js
var PushNotification = require(&#x27;push-notification&#x27;);
var DeviceType = PushNotification.DeviceType;
var path = require(&#x27;path&#x27;);

// APN: cert.pem, key.pem should be configured
// GCM: configure console to generate gcm.sender
PushNotification.<span class="apidocCodeKeywordSpan">init</span>({
	apn: {
		cert: path.resolve(&#x27;./keys/cert.pem&#x27;),
		key: path.resolve(&#x27;./keys/key.pem&#x27;)
	},
	gcm: {
		apiKey: &#x27;gcm-api-key&#x27;
	}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.push-notification.prepare" id="apidoc.element.push-notification.prepare">
        function <span class="apidocSignatureSpan">push-notification.</span>prepare
        <span class="apidocSignatureSpan">(title, message, badge, sound, payload)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">prepare = function (title, message, badge, sound, payload) {
    PushNotification.clear();
    PushNotification.payload = {title: title, message: message, badge: badge, sound: sound, payload: payload};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var payload = null;

// send a notification to a single device
PushNotification.pushSingle(DeviceType.IOS, iosToken, message, badge, sound, payload);
PushNotification.pushSingle(DeviceType.ANDROID, androidToken, message, badge, sound, payload);

// send a notification to multiple devices
PushNotification.<span class="apidocCodeKeywordSpan">prepare</span>(message, badge, sound, payload);
PushNotification.addTarget(DeviceType.IOS, iosToken);
PushNotification.addTarget(DeviceType.ANDROID, androidToken);
PushNotification.addTarget(DeviceType.ANDROID, anotherToken);
PushNotification.push();
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.push-notification.push" id="apidoc.element.push-notification.push">
        function <span class="apidocSignatureSpan">push-notification.</span>push
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">push = function () {
    var title = PushNotification.payload.title;
    var message = PushNotification.payload.message;
    var badge = PushNotification.payload.badge;
    var sound = PushNotification.payload.sound;
    var payload = PushNotification.payload.payload;
    PushNotification.pushToAPN(PushNotification.tokens.apn, title, message, badge, sound, payload);
    PushNotification.pushToGCM(PushNotification.tokens.gcm, title, message, badge, sound, payload);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
PushNotification.pushSingle(DeviceType.ANDROID, androidToken, message, badge, sound, payload);

// send a notification to multiple devices
PushNotification.prepare(message, badge, sound, payload);
PushNotification.addTarget(DeviceType.IOS, iosToken);
PushNotification.addTarget(DeviceType.ANDROID, androidToken);
PushNotification.addTarget(DeviceType.ANDROID, anotherToken);
PushNotification.<span class="apidocCodeKeywordSpan">push</span>();
```


## Configuring APN and GCM

### APN
- &#x3c;https://github.com/argon/node-apn/wiki/Preparing-Certificates&#x3e;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.push-notification.pushSingle" id="apidoc.element.push-notification.pushSingle">
        function <span class="apidocSignatureSpan">push-notification.</span>pushSingle
        <span class="apidocSignatureSpan">(type, token, title, message, badge, sound, payload)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">pushSingle = function (type, token, title, message, badge, sound, payload) {
    if (type === DeviceType.IOS) PushNotification.pushToAPN([token], title, message, badge, sound, payload);
    else if (type === DeviceType.ANDROID) PushNotification.pushToGCM([token], title, message, badge, sound, payload);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var androidToken = &#x27;android-device-token&#x27;;
var message = &#x27;some text to push...&#x27;;
var badge = null;
var sound = null;
var payload = null;

// send a notification to a single device
PushNotification.<span class="apidocCodeKeywordSpan">pushSingle</span>(DeviceType.IOS, iosToken, message, badge, sound, payload);
PushNotification.pushSingle(DeviceType.ANDROID, androidToken, message, badge, sound, payload);

// send a notification to multiple devices
PushNotification.prepare(message, badge, sound, payload);
PushNotification.addTarget(DeviceType.IOS, iosToken);
PushNotification.addTarget(DeviceType.ANDROID, androidToken);
PushNotification.addTarget(DeviceType.ANDROID, anotherToken);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.push-notification.pushToAPN" id="apidoc.element.push-notification.pushToAPN">
        function <span class="apidocSignatureSpan">push-notification.</span>pushToAPN
        <span class="apidocSignatureSpan">(tokens, title, message, badge, sound, payload)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">pushToAPN = function (tokens, title, message, badge, sound, payload) {
    if (!PushNotification.options.apn || !tokens.length) return;
    var connection = new apn.Connection(PushNotification.options.apn);
    tokens.map(function(token) {
        var device = new apn.Device(token);
        var notification = new apn.Notification();
        notification.title = title;
        notification.alert = message;
			notification.badge = badge;
			notification.sound = &#x27;default&#x27;;
			notification.payload = {payload: payload};
			connection.pushNotification(notification, device);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

push: function() {
    var title = PushNotification.payload.title;
    var message = PushNotification.payload.message;
    var badge = PushNotification.payload.badge;
    var sound = PushNotification.payload.sound;
    var payload = PushNotification.payload.payload;
    PushNotification.<span class="apidocCodeKeywordSpan">pushToAPN</span>(PushNotification.tokens.apn, title, message, badge, sound
, payload);
    PushNotification.pushToGCM(PushNotification.tokens.gcm, title, message, badge, sound, payload);
},

pushToAPN: function(tokens, title, message, badge, sound, payload) {
    if (!PushNotification.options.apn || !tokens.length) return;
    var connection = new apn.Connection(PushNotification.options.apn);
    tokens.map(function(token) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.push-notification.pushToGCM" id="apidoc.element.push-notification.pushToGCM">
        function <span class="apidocSignatureSpan">push-notification.</span>pushToGCM
        <span class="apidocSignatureSpan">(tokens, title, message, badge, sound, payload)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">pushToGCM = function (tokens, title, message, badge, sound, payload) {
    if (!PushNotification.options.gcm || !tokens.length) return;
    var notification = new gcm.Message();
    notification.addData({title: title, message: message, payload: payload});
    var sender = new gcm.Sender(PushNotification.options.gcm.apiKey);
    sender.send(notification, tokens);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
push: function() {
    var title = PushNotification.payload.title;
    var message = PushNotification.payload.message;
    var badge = PushNotification.payload.badge;
    var sound = PushNotification.payload.sound;
    var payload = PushNotification.payload.payload;
    PushNotification.pushToAPN(PushNotification.tokens.apn, title, message, badge, sound, payload);
    PushNotification.<span class="apidocCodeKeywordSpan">pushToGCM</span>(PushNotification.tokens.gcm, title, message, badge, sound
, payload);
},

pushToAPN: function(tokens, title, message, badge, sound, payload) {
    if (!PushNotification.options.apn || !tokens.length) return;
    var connection = new apn.Connection(PushNotification.options.apn);
    tokens.map(function(token) {
        var device = new apn.Device(token);
...</pre></li>
    </ul>










</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.push-notification.addTarget" id="apidoc.module.push-notification.addTarget">module push-notification.addTarget</a></h1>


    <h2>
        <a href="#apidoc.element.push-notification.addTarget.addTarget" id="apidoc.element.push-notification.addTarget.addTarget">
        function <span class="apidocSignatureSpan">push-notification.</span>addTarget
        <span class="apidocSignatureSpan">(type, token)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addTarget = function (type, token) {
    if (type === DeviceType.IOS) PushNotification.tokens.apn.push(token);
    else if (type === DeviceType.ANDROID) PushNotification.tokens.gcm.push(token);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

// send a notification to a single device
PushNotification.pushSingle(DeviceType.IOS, iosToken, message, badge, sound, payload);
PushNotification.pushSingle(DeviceType.ANDROID, androidToken, message, badge, sound, payload);

// send a notification to multiple devices
PushNotification.prepare(message, badge, sound, payload);
PushNotification.<span class="apidocCodeKeywordSpan">addTarget</span>(DeviceType.IOS, iosToken);
PushNotification.addTarget(DeviceType.ANDROID, androidToken);
PushNotification.addTarget(DeviceType.ANDROID, anotherToken);
PushNotification.push();
```


## Configuring APN and GCM
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.push-notification.clear" id="apidoc.module.push-notification.clear">module push-notification.clear</a></h1>


    <h2>
        <a href="#apidoc.element.push-notification.clear.clear" id="apidoc.element.push-notification.clear.clear">
        function <span class="apidocSignatureSpan">push-notification.</span>clear
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clear = function () {
    PushNotification.tokens = {apn: [], gcm: []};
    PushNotification.payload = {title: &#x27;&#x27;, message: &#x27;&#x27;, badge: &#x27;&#x27;, sound: &#x27;&#x27;, payload: null};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

options: {apn: null, gcm: null},

init: function(options) {
    options = options || {};
    if (options.apn) options.apn.gateway = &#x27;gateway.sandbox.push.apple.com&#x27;;
    PushNotification.options = {apn: options.apn || null, gcm: options.gcm || null};
    PushNotification.<span class="apidocCodeKeywordSpan">clear</span>();
},

clear: function() {
    PushNotification.tokens = {apn: [], gcm: []};
    PushNotification.payload = {title: &#x27;&#x27;, message: &#x27;&#x27;, badge: &#x27;&#x27;, sound: &#x27;&#x27;, payload: null
};
},
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.push-notification.init" id="apidoc.module.push-notification.init">module push-notification.init</a></h1>


    <h2>
        <a href="#apidoc.element.push-notification.init.init" id="apidoc.element.push-notification.init.init">
        function <span class="apidocSignatureSpan">push-notification.</span>init
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">init = function (options) {
    options = options || {};
    if (options.apn) options.apn.gateway = &#x27;gateway.sandbox.push.apple.com&#x27;;
    PushNotification.options = {apn: options.apn || null, gcm: options.gcm || null};
    PushNotification.clear();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```js
var PushNotification = require(&#x27;push-notification&#x27;);
var DeviceType = PushNotification.DeviceType;
var path = require(&#x27;path&#x27;);

// APN: cert.pem, key.pem should be configured
// GCM: configure console to generate gcm.sender
PushNotification.<span class="apidocCodeKeywordSpan">init</span>({
	apn: {
		cert: path.resolve(&#x27;./keys/cert.pem&#x27;),
		key: path.resolve(&#x27;./keys/key.pem&#x27;)
	},
	gcm: {
		apiKey: &#x27;gcm-api-key&#x27;
	}
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.push-notification.prepare" id="apidoc.module.push-notification.prepare">module push-notification.prepare</a></h1>


    <h2>
        <a href="#apidoc.element.push-notification.prepare.prepare" id="apidoc.element.push-notification.prepare.prepare">
        function <span class="apidocSignatureSpan">push-notification.</span>prepare
        <span class="apidocSignatureSpan">(title, message, badge, sound, payload)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">prepare = function (title, message, badge, sound, payload) {
    PushNotification.clear();
    PushNotification.payload = {title: title, message: message, badge: badge, sound: sound, payload: payload};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var payload = null;

// send a notification to a single device
PushNotification.pushSingle(DeviceType.IOS, iosToken, message, badge, sound, payload);
PushNotification.pushSingle(DeviceType.ANDROID, androidToken, message, badge, sound, payload);

// send a notification to multiple devices
PushNotification.<span class="apidocCodeKeywordSpan">prepare</span>(message, badge, sound, payload);
PushNotification.addTarget(DeviceType.IOS, iosToken);
PushNotification.addTarget(DeviceType.ANDROID, androidToken);
PushNotification.addTarget(DeviceType.ANDROID, anotherToken);
PushNotification.push();
```
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.push-notification.push" id="apidoc.module.push-notification.push">module push-notification.push</a></h1>


    <h2>
        <a href="#apidoc.element.push-notification.push.push" id="apidoc.element.push-notification.push.push">
        function <span class="apidocSignatureSpan">push-notification.</span>push
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">push = function () {
    var title = PushNotification.payload.title;
    var message = PushNotification.payload.message;
    var badge = PushNotification.payload.badge;
    var sound = PushNotification.payload.sound;
    var payload = PushNotification.payload.payload;
    PushNotification.pushToAPN(PushNotification.tokens.apn, title, message, badge, sound, payload);
    PushNotification.pushToGCM(PushNotification.tokens.gcm, title, message, badge, sound, payload);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
PushNotification.pushSingle(DeviceType.ANDROID, androidToken, message, badge, sound, payload);

// send a notification to multiple devices
PushNotification.prepare(message, badge, sound, payload);
PushNotification.addTarget(DeviceType.IOS, iosToken);
PushNotification.addTarget(DeviceType.ANDROID, androidToken);
PushNotification.addTarget(DeviceType.ANDROID, anotherToken);
PushNotification.<span class="apidocCodeKeywordSpan">push</span>();
```


## Configuring APN and GCM

### APN
- &#x3c;https://github.com/argon/node-apn/wiki/Preparing-Certificates&#x3e;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.push-notification.pushSingle" id="apidoc.module.push-notification.pushSingle">module push-notification.pushSingle</a></h1>


    <h2>
        <a href="#apidoc.element.push-notification.pushSingle.pushSingle" id="apidoc.element.push-notification.pushSingle.pushSingle">
        function <span class="apidocSignatureSpan">push-notification.</span>pushSingle
        <span class="apidocSignatureSpan">(type, token, title, message, badge, sound, payload)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">pushSingle = function (type, token, title, message, badge, sound, payload) {
    if (type === DeviceType.IOS) PushNotification.pushToAPN([token], title, message, badge, sound, payload);
    else if (type === DeviceType.ANDROID) PushNotification.pushToGCM([token], title, message, badge, sound, payload);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var androidToken = &#x27;android-device-token&#x27;;
var message = &#x27;some text to push...&#x27;;
var badge = null;
var sound = null;
var payload = null;

// send a notification to a single device
PushNotification.<span class="apidocCodeKeywordSpan">pushSingle</span>(DeviceType.IOS, iosToken, message, badge, sound, payload);
PushNotification.pushSingle(DeviceType.ANDROID, androidToken, message, badge, sound, payload);

// send a notification to multiple devices
PushNotification.prepare(message, badge, sound, payload);
PushNotification.addTarget(DeviceType.IOS, iosToken);
PushNotification.addTarget(DeviceType.ANDROID, androidToken);
PushNotification.addTarget(DeviceType.ANDROID, anotherToken);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.push-notification.pushToAPN" id="apidoc.module.push-notification.pushToAPN">module push-notification.pushToAPN</a></h1>


    <h2>
        <a href="#apidoc.element.push-notification.pushToAPN.pushToAPN" id="apidoc.element.push-notification.pushToAPN.pushToAPN">
        function <span class="apidocSignatureSpan">push-notification.</span>pushToAPN
        <span class="apidocSignatureSpan">(tokens, title, message, badge, sound, payload)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">pushToAPN = function (tokens, title, message, badge, sound, payload) {
    if (!PushNotification.options.apn || !tokens.length) return;
    var connection = new apn.Connection(PushNotification.options.apn);
    tokens.map(function(token) {
        var device = new apn.Device(token);
        var notification = new apn.Notification();
        notification.title = title;
        notification.alert = message;
			notification.badge = badge;
			notification.sound = &#x27;default&#x27;;
			notification.payload = {payload: payload};
			connection.pushNotification(notification, device);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

push: function() {
    var title = PushNotification.payload.title;
    var message = PushNotification.payload.message;
    var badge = PushNotification.payload.badge;
    var sound = PushNotification.payload.sound;
    var payload = PushNotification.payload.payload;
    PushNotification.<span class="apidocCodeKeywordSpan">pushToAPN</span>(PushNotification.tokens.apn, title, message, badge, sound
, payload);
    PushNotification.pushToGCM(PushNotification.tokens.gcm, title, message, badge, sound, payload);
},

pushToAPN: function(tokens, title, message, badge, sound, payload) {
    if (!PushNotification.options.apn || !tokens.length) return;
    var connection = new apn.Connection(PushNotification.options.apn);
    tokens.map(function(token) {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.push-notification.pushToGCM" id="apidoc.module.push-notification.pushToGCM">module push-notification.pushToGCM</a></h1>


    <h2>
        <a href="#apidoc.element.push-notification.pushToGCM.pushToGCM" id="apidoc.element.push-notification.pushToGCM.pushToGCM">
        function <span class="apidocSignatureSpan">push-notification.</span>pushToGCM
        <span class="apidocSignatureSpan">(tokens, title, message, badge, sound, payload)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">pushToGCM = function (tokens, title, message, badge, sound, payload) {
    if (!PushNotification.options.gcm || !tokens.length) return;
    var notification = new gcm.Message();
    notification.addData({title: title, message: message, payload: payload});
    var sender = new gcm.Sender(PushNotification.options.gcm.apiKey);
    sender.send(notification, tokens);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
push: function() {
    var title = PushNotification.payload.title;
    var message = PushNotification.payload.message;
    var badge = PushNotification.payload.badge;
    var sound = PushNotification.payload.sound;
    var payload = PushNotification.payload.payload;
    PushNotification.pushToAPN(PushNotification.tokens.apn, title, message, badge, sound, payload);
    PushNotification.<span class="apidocCodeKeywordSpan">pushToGCM</span>(PushNotification.tokens.gcm, title, message, badge, sound
, payload);
},

pushToAPN: function(tokens, title, message, badge, sound, payload) {
    if (!PushNotification.options.apn || !tokens.length) return;
    var connection = new apn.Connection(PushNotification.options.apn);
    tokens.map(function(token) {
        var device = new apn.Device(token);
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
